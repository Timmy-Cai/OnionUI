(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-extend-view-upload-upload"],{"013f":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,i("a481"),i("ac4d"),i("8a81"),i("ac6a");var n=a(i("75fc"));i("c5f6");var o={name:"tuiUpload",props:{value:{type:Array,default:function(){return[]}},forbidDel:{type:Boolean,default:!1},forbidAdd:{type:Boolean,default:!1},serverUrl:{type:String,default:""},limit:{type:Number,default:9},fileKeyName:{type:String,default:"file"}},data:function(){return{imageList:[],statusArr:[]}},created:function(){this.imageList=(0,n.default)(this.value);var t=!0,e=!1,i=void 0;try{for(var a,o=this.imageList[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){a.value;this.statusArr.push("1")}}catch(r){e=!0,i=r}finally{try{t||null==o.return||o.return()}finally{if(e)throw i}}},computed:{isShowAdd:function(){var t=!0;return(this.forbidAdd||this.limit&&this.imageList.length>=this.limit)&&(t=!1),t}},methods:{reUpLoad:function(t){var e=this;this.$set(this.statusArr,t,"2"),this.change(),this.uploadImage(t,this.imageList[t]).then((function(){e.change()})).catch((function(){e.change()}))},change:function(){var t=~this.statusArr.indexOf("2")?2:1;2!=t&&~this.statusArr.indexOf("3")&&(t=3),this.$emit("complete",{status:t,imgArr:this.imageList})},chooseImage:function(){var t=this;uni.chooseImage({count:t.limit-t.imageList.length,success:function(e){for(var i=[],a=0;a<e.tempFilePaths.length;a++){var n=t.imageList.length;if(n>=t.limit){uni.showToast({title:"最多可上传".concat(t.limit,"张图片"),icon:"none"});break}var o=e.tempFilePaths[a];i.push(o),t.imageList.push(o),t.statusArr.push("2")}t.change();for(var r=t.imageList.length-i.length,A=0;A<i.length;A++){var s=r+A;t.serverUrl?t.uploadImage(s,i[A]).then((function(){t.change()})).catch((function(){t.change()})):(t.$set(t.statusArr,s,"1"),t.change())}}})},uploadImage:function(t,e){var i=this,a=this;return new Promise((function(n,o){uni.uploadFile({url:i.serverUrl,name:i.fileKeyName,header:{},formData:{},filePath:e,success:function(e){if(console.log(e),200==e.statusCode){var i=JSON.parse(e.data.replace(/\ufeff/g,"")||"{}");i.code%100===0?(i.url&&(a.imageList[t]=i.url),a.$set(a.statusArr,t,i.url?"1":"3")):a.$set(a.statusArr,t,"3"),n(t)}else a.$set(a.statusArr,t,"3"),o(t)},fail:function(e){a.$set(a.statusArr,t,"3"),o(t)}})}))},delImage:function(t){this.imageList.splice(t,1),this.statusArr.splice(t,1),this.$emit("remove",{index:t}),this.change()},previewImage:function(t){this.imageList.length&&uni.previewImage({current:this.imageList[t],loop:!0,urls:this.imageList})}}};e.default=o},"1af6":function(t,e,i){var a=i("63b6");a(a.S,"Array",{isArray:i("9003")})},"1e81":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"container"},[i("v-uni-view",{staticClass:"header"},[i("v-uni-view",{staticClass:"title"},[t._v("upload")]),i("v-uni-view",{staticClass:"sub-title"},[t._v("图片上传，需要根据上传接口实际返回数据进行调整")])],1),i("v-uni-view",{staticClass:"tui-box-upload"},[i("tui-upload",{attrs:{serverUrl:t.serverUrl},on:{complete:function(e){e=t.$handleEvent(e),t.result(e)},remove:function(e){e=t.$handleEvent(e),t.remove(e)}}})],1)],1)},n=[];i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}))},"20fd":function(t,e,i){"use strict";var a=i("d9f6"),n=i("aebd");t.exports=function(t,e,i){e in t?a.f(t,e,n(0,i)):t[e]=i}},"2edc":function(t,e,i){"use strict";i.r(e);var a=i("3fbb"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},"3fbb":function(t,e,i){"use strict";var a=i("4ea4");Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=a(i("66f3")),o={components:{tuiUpload:n.default},data:function(){return{imageData:[],serverUrl:"http://upload.cn"}},methods:{result:function(t){console.log(t),this.imageData=t.imgArr},remove:function(t){console.log(t);t.index}}};e.default=o},5482:function(t,e,i){"use strict";i.r(e);var a=i("1e81"),n=i("2edc");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("fb97");var r=i("2877"),A=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"7831f784",null);e["default"]=A.exports},"549b":function(t,e,i){"use strict";var a=i("d864"),n=i("63b6"),o=i("241e"),r=i("b0dc"),A=i("3702"),s=i("b447"),u=i("20fd"),f=i("7cd6");n(n.S+n.F*!i("4ee1")((function(t){Array.from(t)})),"Array",{from:function(t){var e,i,n,c,l=o(t),d="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,v=void 0!==b,p=0,h=f(l);if(v&&(b=a(b,g>2?arguments[2]:void 0,2)),void 0==h||d==Array&&A(h))for(e=s(l.length),i=new d(e);e>p;p++)u(i,p,v?b(l[p],p):l[p]);else for(c=h.call(l),i=new d;!(n=c.next()).done;p++)u(i,p,v?r(c,b,[n.value,p],!0):n.value);return i.length=p,i}})},"54a1":function(t,e,i){i("6c1c"),i("1654"),t.exports=i("95d5")},"66f3":function(t,e,i){"use strict";i.r(e);var a=i("966f"),n=i("facb");for(var o in n)"default"!==o&&function(t){i.d(e,t,(function(){return n[t]}))}(o);i("9229");var r=i("2877"),A=Object(r["a"])(n["default"],a["a"],a["b"],!1,null,"6a949907",null);e["default"]=A.exports},"75fc":function(t,e,i){"use strict";i.r(e);var a=i("a745"),n=i.n(a);function o(t){if(n()(t)){for(var e=0,i=new Array(t.length);e<t.length;e++)i[e]=t[e];return i}}var r=i("774e"),A=i.n(r),s=i("c8bb"),u=i.n(s);function f(t){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return A()(t)}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(t){return o(t)||f(t)||c()}i.d(e,"default",(function(){return l}))},"774e":function(t,e,i){t.exports=i("d2d5")},9229:function(t,e,i){"use strict";var a=i("ebc0"),n=i.n(a);n.a},"95d5":function(t,e,i){var a=i("40c3"),n=i("5168")("iterator"),o=i("481b");t.exports=i("584a").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||o.hasOwnProperty(a(e))}},"966f":function(t,e,i){"use strict";var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("v-uni-view",{staticClass:"tui-container"},[i("v-uni-view",{staticClass:"tui-upload-box"},[t._l(t.imageList,(function(e,a){return i("v-uni-view",{key:a,staticClass:"tui-image-item"},[i("v-uni-image",{staticClass:"tui-item-img",attrs:{src:e,mode:"aspectFill"},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.previewImage(a)}}}),t.forbidDel?t._e():i("v-uni-view",{staticClass:"tui-img-del",on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.delImage(a)}}}),1!=t.statusArr[a]?i("v-uni-view",{staticClass:"tui-upload-mask"},[2==t.statusArr[a]?i("v-uni-view",{staticClass:"tui-upload-loading"}):t._e(),i("v-uni-text",{staticClass:"tui-tips"},[t._v(t._s(2==t.statusArr[a]?"上传中...":"上传失败"))]),3==t.statusArr[a]?i("v-uni-view",{staticClass:"tui-mask-btn",attrs:{"hover-class":"tui-hover","hover-stay-time":150},on:{click:function(e){e.stopPropagation(),e=t.$handleEvent(e),t.reUpLoad(a)}}},[t._v("重新上传")]):t._e()],1):t._e()],1)})),t.isShowAdd?i("v-uni-view",{staticClass:"tui-upload-add",on:{click:function(e){e=t.$handleEvent(e),t.chooseImage(e)}}},[i("v-uni-view",{staticClass:"tui-upload-icon tui-icon-plus"})],1):t._e()],2)],1)},n=[];i.d(e,"a",(function(){return a})),i.d(e,"b",(function(){return n}))},a745:function(t,e,i){t.exports=i("f410")},ad60:function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,'@font-face{font-family:tuiUpload;src:url(data:application/font-woff;charset=utf-8;base64,d09GRgABAAAAAATcAA0AAAAAByQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGRlRNAAAEwAAAABoAAAAciR52BUdERUYAAASgAAAAHgAAAB4AKQALT1MvMgAAAaAAAABCAAAAVjxvR/tjbWFwAAAB+AAAAEUAAAFK5ibpuGdhc3AAAASYAAAACAAAAAj//wADZ2x5ZgAAAkwAAADXAAABAAmNjcZoZWFkAAABMAAAAC8AAAA2FpiS+WhoZWEAAAFgAAAAHQAAACQH3QOFaG10eAAAAeQAAAARAAAAEgwAACBsb2NhAAACQAAAAAwAAAAMAEoAgG1heHAAAAGAAAAAHwAAACABEgA2bmFtZQAAAyQAAAFJAAACiCnmEVVwb3N0AAAEcAAAACgAAAA6OMUs4HjaY2BkYGAAYo3boY/i+W2+MnCzMIDAzb3qdQj6fwPzf+YGIJeDgQkkCgA/KAtvAHjaY2BkYGBu+N/AEMPCAALM/xkYGVABCwBZ4wNrAAAAeNpjYGRgYGBl0GJgZgABJiDmAkIGhv9gPgMADTABSQB42mNgZGFgnMDAysDA1Ml0hoGBoR9CM75mMGLkAIoysDIzYAUBaa4pDA7PGJ9xMjf8b2CIYW5gaAAKM4LkANt9C+UAAHjaY2GAABYIVmBgAAAA+gAtAAAAeNpjYGBgZoBgGQZGBhBwAfIYwXwWBg0gzQakGRmYnjE+4/z/n4EBQksxSf6GqgcCRjYGOIeRCUgwMaACRoZhDwCiLwmoAAAAAAAAAAAAAAAASgCAeNpdjkFKw0AARf/vkIR0BkPayWRKQZtYY90ohJju2kOIbtz0KD1HVm50UfEmWXoAr9ADOHFARHHzeY//Fx8Ci+FJfIgdJFa4AhgiMshbrCuIsLxhFJZVs+Vl1bT1GddtbXTC3OhohN4dg4BJ3zMJAnccyfm468ZzHXddrH9ZKbHzdf9n/vkY/xv9sPQXgGEvBrHHwst5kTbXLE+YpYVPkxepPmW94W16UbdNJd6f3SAzo5W7m1jaKd+8ZZIvk5nlKw9SK6Wle7BLS3f/bTzQLmfAF2T1NsQAeNp9kD1OAzEQhZ/zByQSQiCoXVEA2vyUKRMp9Ailo0g23pBo1155nUg5AS0VB6DlGByAGyDRcgpelkmTImvt6PObmeexAZzjGwr/3yXuhBWO8ShcwREy4Sr1F+Ea+V24jhY+hRvUf4SbuFUD4RYu1BsdVO2Eu5vSbcsKZxgIV3CKJ+Eq9ZVwjfwqXMcVPoQb1L+EmxjjV7iFa2WpDOFhMEFgnEFjig3jAjEcLJIyBtahOfRmEsxMTzd6ETubOBso71dilwMeaDnngCntPbdmvkon/mDLgdSYbh4FS7YpjS4idCgbXyyc1d2oc7D9nu22tNi/a4E1x+xRDWzU/D3bM9JIbAyvkJI18jK3pBJTj2hrrPG7ZynW814IiU68y/SIx5o0dTr3bmniwOLn8owcfbS5kj33qBw+Y1kIeb/dTsQgil2GP5PYcRkAAAB42mNgYoAALjDJyIAOWMGiTIxMjMxsKak5qSWpbFmZiRmJ+QAmgAUIAAAAAf//AAIAAQAAAAwAAAAWAAAAAgABAAMABAABAAQAAAACAAAAAHjaY2BgYGQAgqtL1DlA9M296nUwGgA+8QYgAAA=) format("woff");font-weight:400;font-style:normal}.tui-upload-icon[data-v-6a949907]{font-family:tuiUpload!important;font-style:normal;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;padding:%?10?%}.tui-icon-delete[data-v-6a949907]:before{content:"\\e601"}.tui-icon-plus[data-v-6a949907]:before{content:"\\e609"}.tui-upload-box[data-v-6a949907]{width:100%;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-flex-wrap:wrap;flex-wrap:wrap}.tui-upload-add[data-v-6a949907]{width:%?220?%;height:%?220?%;font-size:%?68?%;font-weight:100;color:#888;background-color:#f7f7f7;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center;padding:0}.tui-image-item[data-v-6a949907]{width:%?220?%;height:%?220?%;position:relative;margin-right:%?20?%;margin-bottom:%?20?%}.tui-image-item[data-v-6a949907]:nth-of-type(3n){margin-right:0}.tui-item-img[data-v-6a949907]{width:%?220?%;height:%?220?%;display:block}.tui-img-del[data-v-6a949907]{width:%?36?%;height:%?36?%;position:absolute;right:%?-12?%;top:%?-12?%;background:#eb0909;border-radius:50%;color:#fff;font-size:%?34?%;z-index:999}.tui-img-del[data-v-6a949907]:before{content:"";width:%?16?%;height:1px;position:absolute;left:%?10?%;top:%?18?%;background:#fff}.tui-upload-mask[data-v-6a949907]{width:100%;height:100%;position:absolute;left:0;top:0;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;flex-direction:column;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-justify-content:space-around;justify-content:space-around;padding:%?40?% 0;box-sizing:border-box;background:rgba(0,0,0,.6)}.tui-upload-loading[data-v-6a949907]{width:%?28?%;height:%?28?%;border-radius:50%;border:2px solid;border-color:#b2b2b2 #b2b2b2 #b2b2b2 #fff;-webkit-animation:tui-rotate-data-v-6a949907 .7s linear infinite;animation:tui-rotate-data-v-6a949907 .7s linear infinite}@-webkit-keyframes tui-rotate-data-v-6a949907{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes tui-rotate-data-v-6a949907{0%{-webkit-transform:rotate(0);transform:rotate(0)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.tui-tips[data-v-6a949907]{font-size:%?26?%;color:#fff}.tui-mask-btn[data-v-6a949907]{padding:%?6?% %?16?%;border-radius:%?40?%;text-align:center;font-size:%?24?%;color:#fff;border:%?1?% solid #fff;display:-webkit-box;display:-webkit-flex;display:flex;-webkit-box-align:center;-webkit-align-items:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;justify-content:center}.tui-hover[data-v-6a949907]{opacity:.5}',""])},b235:function(t,e,i){e=t.exports=i("24fb")(!1),e.push([t.i,"uni-page-body[data-v-7831f784]{background:#fff}.container[data-v-7831f784]{padding:%?20?% 0 %?120?% 0;box-sizing:border-box}.header[data-v-7831f784]{padding:%?80?% %?90?% %?60?% %?90?%;box-sizing:border-box}.title[data-v-7831f784]{font-size:%?34?%;color:#333;font-weight:500}.sub-title[data-v-7831f784]{font-size:%?24?%;color:#7a7a7a;padding-top:%?18?%}.tui-box-upload[data-v-7831f784]{padding-left:%?25?%;box-sizing:border-box}body.?%PAGE?%[data-v-7831f784]{background:#fff}",""])},c8bb:function(t,e,i){t.exports=i("54a1")},d1ff:function(t,e,i){var a=i("b235");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("3922e6c2",a,!0,{sourceMap:!1,shadowMode:!1})},d2d5:function(t,e,i){i("1654"),i("549b"),t.exports=i("584a").Array.from},ebc0:function(t,e,i){var a=i("ad60");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("4f06").default;n("6c88b490",a,!0,{sourceMap:!1,shadowMode:!1})},f410:function(t,e,i){i("1af6"),t.exports=i("584a").Array.isArray},facb:function(t,e,i){"use strict";i.r(e);var a=i("013f"),n=i.n(a);for(var o in a)"default"!==o&&function(t){i.d(e,t,(function(){return a[t]}))}(o);e["default"]=n.a},fb97:function(t,e,i){"use strict";var a=i("d1ff"),n=i.n(a);n.a}}]);